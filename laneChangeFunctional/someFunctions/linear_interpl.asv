clc
clear all 
close all

X = 0:10;
Y = 2 * X.^3 ;
plot(X,Y,'-r^');
hold on

y = [];
for i = 0:0.5:10
    y  = [y;[i,LinearInterpolation(X,Y,i)]];
end

plot(y(:,1),y(:,2),'-ob')


function [y] = LinearInterpolation(X,Y,x)
    
    low = 1;
    high = length(X);
    
    if x == X(low) 
        y = Y(x);
        return;
    end
    
    if x == X(high)
        y = Y(x);
        return;
    end

    Flag = 0;
    
    while Flag == 0
        mid = round(0.5 * (low + high));
        if x == X(mid)
            y = Y(mid);
            Flag = 1;
            break;
        elseif x < X(mid)
            low =  mid;
        else
            high = mid;
        end
        
        if (high - low) == 1;
            Flag = 1;
        end
    end
    y = Y(X(start))  + (x - X(start))/(X(ending) - X(start)) * (Y(ending) - Y(start));
    
end
